<div class="col-lg-3 member__sidebar">
  <div class="member__sidebar__avatar">
    <%= image_tag(@member.avatar.url(:thumb)) %>
  </div>

  <div class="member__sidebar__positions">
    <%= safe_join(@member.positions_in_companies.map do |company, positions|
      safe_join([link_to(company.name, community_company_path(current_community, company)), "(#{ positions.map(&:name).to_sentence })"], ' ')
    end, tag('br')) %>
  </div>

  <% if @member.description.present? %>
    <div class="member__sidebar__description">
      <%= @member.description %>
    </div>
  <% elsif current_member == @member %>
    <div class="member__sidebar__description">
      <%= simple_form_for(@member, as: @member, url: registration_path(@member, current_community), html: { method: :put }) do |f| %>
        <%= f.input :description, input_html: { rows: 3 }, label: false, placeholder: "Add a description to your profile" %>
        <div class="text-right">
          <%= f.button :submit, "Update" %>
        </div>
      <% end %>
    </div>
  <% end %>

  <div class="member__sidebar__social_media_links">
    <%= render partial: 'shared/social_media_link', collection: @member.social_media_links %>
  </div>
</div>
